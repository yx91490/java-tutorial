(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{360:function(t,s,a){t.exports=a.p+"assets/img/environment-1loads.b269fb81.gif"},627:function(t,s,a){"use strict";a.r(s);var n=a(27),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"属性（properties）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#属性（properties）"}},[t._v("#")]),t._v(" 属性（properties）")]),t._v(" "),n("p",[t._v("属性是作为键/值对管理的配置值。在每一对中，键和值都是两个 String 值。该键标识并用于检索该值，\n就像变量名称用于检索变量的值一样。例如，能够下载文件的应用程序可能会使用名为 “download.lastDirectory” 的属性来跟踪最后一次下载所用的目录。")]),t._v(" "),n("p",[t._v("要管理属性，请创建实例 "),n("code",[t._v("java.util.Properties")]),t._v("。该类提供了以下方法：")]),t._v(" "),n("ul",[n("li",[t._v("将键/值对从流中加载到 Properties 对象中，")]),t._v(" "),n("li",[t._v("从其键中检索一个值，")]),t._v(" "),n("li",[t._v("列出 key 及其 value，")]),t._v(" "),n("li",[t._v("列举 key")]),t._v(" "),n("li",[t._v("将属性保存到流。")])]),t._v(" "),n("p",[t._v("有关流的介绍，请参阅"),n("RouterLink",{attrs:{to:"/essential/io/streams.html"}},[t._v("基本 I / O 课程中的 I / O 流部分 ")]),t._v("。")],1),t._v(" "),n("p",[n("img",{attrs:{src:a(360),alt:""}})]),t._v(" "),n("ul",[n("li",[n("p",[t._v("Starting Up")]),t._v(" "),n("p",[t._v("当应用程序启动时，前三个框中的操作会发生。")]),t._v(" "),n("ol",[n("li",[t._v("首先，应用程序将默认属性从众所周知的位置加载到 Properties 对象中。通常，默认属性将与应用程序的 .class 其他资源文件一起存储在磁盘上的文件中。")]),t._v(" "),n("li",[t._v("接下来，应用程序创建另一个 Properties 对象，并加载从上次运行应用程序时保存的属性。许多应用程序在每个用户的基础上存储属性，因此此步骤中加载的属性通常位于该应用程序在用户主目录中维护的特定目录中的特定文件中。")]),t._v(" "),n("li",[t._v("最后，应用程序使用默认和记住的属性来初始化自身。")])]),t._v(" "),n("p",[t._v("这里的关键是一致性。")])]),t._v(" "),n("li",[n("p",[t._v("Running")]),t._v(" "),n("p",[t._v("在执行应用程序期间，用户可能会在“首选项”窗口中更改某些设置，并更新 Properties 对象以反映这些更改。如果用户更改在以后的会话中被记住，则必须保存它们。")])]),t._v(" "),n("li",[n("p",[t._v("Exiting")]),t._v(" "),n("p",[t._v("退出后，应用程序将属性保存到其知名位置，以便在下次启动应用程序时再次加载该属性。")])])]),t._v(" "),n("h2",{attrs:{id:"设置属性对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#设置属性对象"}},[t._v("#")]),t._v(" 设置属性对象")]),t._v(" "),n("p",[t._v("以下 Java 代码执行前面部分描述的前两个步骤：加载默认属性并加载记住的属性：")]),t._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建并加载默认值")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Properties")]),t._v(" defaultProps "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Properties")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileInputStream")]),t._v(" in "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileInputStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"defaultProperties"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndefaultProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("in"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建应用程序属性")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Properties")]),t._v(" applicationProps "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Properties")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("defaultProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 现在加载属性")]),t._v("\nin "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileInputStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"appProperties"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\napplicationProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("in"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br")])]),n("p",[t._v("首先，应用程序设置一个默认 "),n("code",[t._v("Properties")]),t._v(" 对象。此对象包含要在其他地方未显式设置值时要使用的一组属性。\n然后，"),n("code",[t._v("load")]),t._v(" 方法从名为 defaultProperties 的文件读取默认值。")]),t._v(" "),n("p",[t._v("接下来，应用程序使用不同的构造函数创建第二个 "),n("code",[t._v("Properties")]),t._v(" 对象 "),n("code",[t._v("applicationProps")]),t._v(" ，\n其中包含默认值 "),n("code",[t._v("defaultProps")]),t._v(" 。当检索到属性时，默认值将起作用。如果找不到该属性 "),n("code",[t._v("applicationProps")]),t._v("，则搜索其默认列表。")]),t._v(" "),n("p",[t._v("最后，代码从一个名为 "),n("code",[t._v("appProperties")]),t._v(" 的文件中加载一组属性 。该文件中的属性是从上次调用应用程序中保存的属性，如下一节所述。")]),t._v(" "),n("h2",{attrs:{id:"保存属性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#保存属性"}},[t._v("#")]),t._v(" 保存属性")]),t._v(" "),n("p",[t._v("以下示例使用上一个示例写出应用程序属性 "),n("code",[t._v("Properties.store")]),t._v("。默认属性不需要每次保存，因为它们不会更改。")]),t._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileOutputStream")]),t._v(" out "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileOutputStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"appProperties"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\napplicationProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("store")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"---No Comment---"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("p",[t._v("该 store 方法需要一个流写入，以及一个字符串，它用作输出顶部的注释。")]),t._v(" "),n("h2",{attrs:{id:"获取属性信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获取属性信息"}},[t._v("#")]),t._v(" 获取属性信息")]),t._v(" "),n("p",[t._v("一旦应用程序设置了其 "),n("code",[t._v("Properties")]),t._v(" 对象，应用程序可以查询对象以获取有关其所包含的各种键和值的信息。\n应用程序在启动后从 "),n("code",[t._v("Properties")]),t._v(" 对象获取信息，以便可以根据用户的选择对其进行初始化。\n本 "),n("code",[t._v("Properties")]),t._v(" 类有获取属性信息的几种方法：")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("contains(Object value) 和 containsKey(Object key)")]),t._v(" "),n("p",[t._v("返回 true，value 或 key 是否在 Properties 对象中。Properties 继承 Hashtable 这些方法。\n因此，他们接受 Object 对象，但只能使用 String 值。")])]),t._v(" "),n("li",[n("p",[t._v("getProperty(String key) 和 getProperty(String key, String default)")]),t._v(" "),n("p",[t._v("返回指定属性的值。第二个版本提供了默认值。如果找不到键，则返回默认值。")])]),t._v(" "),n("li",[n("p",[t._v("list(PrintStream s) 和 list(PrintWriter w)")]),t._v(" "),n("p",[t._v("将属性列表输出到指定的输出流。此方法对调试很有用。")])]),t._v(" "),n("li",[n("p",[t._v("elements()，keys()，和 propertynames（）")]),t._v(" "),n("p",[t._v("返回包含 Enumeration 对象中包含的键或值（如方法名称所示）Properties。该 keys 方法仅返回对象本身的键;\n该 propertyNames 方法也返回默认属性的键。")])]),t._v(" "),n("li",[n("p",[t._v("stringPropertyNames()")]),t._v(" "),n("p",[t._v("propertyNames，但返回一个 "),n("code",[t._v("Set<String>")]),t._v("，只返回属性的名称，其中 key 和 value 都是字符串。\n请注意，Set 对象不受 Properties 对象的支持，因此一个对象的更改不会影响对方。")])]),t._v(" "),n("li",[n("p",[t._v("size() 返回当前的键/值对数。")])])]),t._v(" "),n("h2",{attrs:{id:"设置属性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#设置属性"}},[t._v("#")]),t._v(" 设置属性")]),t._v(" "),n("p",[t._v("用户与应用程序在执行过程中的交互可能会影响属性设置。这些更改应反映在 "),n("code",[t._v("Properties")]),t._v(" 对象中，\n以便在应用程序退出时调用它们（并调用 "),n("code",[t._v("store")]),t._v(" 方法）。以下方法更改 "),n("code",[t._v("Properties")]),t._v(" 对象中的属性：")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("setProperty(String key, String value)")]),t._v(" "),n("p",[t._v("将 key/value 放入对象")])]),t._v(" "),n("li",[n("p",[t._v("remove(Object key)")]),t._v(" "),n("p",[t._v("移除指定的key")])])]),t._v(" "),n("p",[t._v("注意：  上面描述的一些方法是在 Hashtable 其中定义的，因此接受除了 "),n("code",[t._v("String")]),t._v(" 以外的键和值参数类型。\n始终使用 "),n("code",[t._v("Strings")]),t._v(" 键和值，即使该方法允许其他类型。也不要调用 "),n("code",[t._v("Hashtable.set")]),t._v(" 或 "),n("code",[t._v("Hastable.setAll")]),t._v(";\n总是使用 "),n("code",[t._v("Properties.setProperty")]),t._v("。")])])}),[],!1,null,null,null);s.default=e.exports}}]);